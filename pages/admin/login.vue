<template lang="html">
  <div class="login">
    <div>
      <div class="w-full h-[100vh] form-block">
        <div
          class="px-[140px] flex flex-col gap-[100px] items-center justify-center h-full w-full"
        >
          <div class="w-full flex flex-col gap-[50px]">
            <h4
              class="text-center font-[verdana-700] text-white uppercase leading-[48px] text-[32px]"
            >
              Oilaviy mehmon uylari Yagona <br />
              Regesrti tizimi
            </h4>
          </div>
          <div class="w-full flex justify-center">
            <!-- <span class="flex gap-6 items-center">
              <a-checkbox />
              <p class="font-[verdana-400] text-base text-white">Eslab qolish</p></span
            > -->
            <a
              :href="link"
              class="px-[50px] hover:text-white flex py-[20px] border border-solid border-white gap-5 items-center justify-center text-white uppercase font-regular bg-transparent rounded-[12px]"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="130"
                height="40"
                viewBox="0 0 130 40"
                fill="none"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M129.5 20L129.499 22L129.498 22.8283L129.495 23.4638L129.492 23.9995L129.487 24.4712L129.482 24.8975L129.475 25.2893L129.467 25.6538L129.459 25.9959L129.449 26.3193L129.438 26.6266L129.426 26.9199L129.413 27.2009L129.4 27.4711L129.385 27.7314L129.369 27.9829L129.352 28.2264L129.334 28.4624L129.315 28.6916L129.295 28.9145L129.274 29.1315L129.252 29.343L129.229 29.5494L129.204 29.7509L129.179 29.9479L129.153 30.1406L129.126 30.3292L129.097 30.5139L129.068 30.6949L129.038 30.8724L129.006 31.0464L128.974 31.2172L128.94 31.385L128.905 31.5497L128.87 31.7115L128.833 31.8705L128.795 32.0269L128.756 32.1806L128.716 32.3319L128.675 32.4807L128.633 32.6271L128.59 32.7712L128.546 32.9131L128.501 33.0528L128.454 33.1904L128.407 33.3259L128.358 33.4594L128.309 33.5909L128.258 33.7204L128.206 33.8481L128.153 33.9739L128.099 34.0979L128.044 34.2202L127.988 34.3407L127.93 34.4594L127.872 34.5765L127.812 34.6919L127.751 34.8057L127.689 34.9179L127.626 35.0285L127.562 35.1376L127.497 35.2451L127.43 35.3512L127.363 35.4557L127.294 35.5587L127.224 35.6604L127.153 35.7605L127.08 35.8593L127.007 35.9567L126.932 36.0526L126.856 36.1472L126.779 36.2405L126.7 36.3324L126.62 36.423L126.54 36.5123L126.457 36.6003L126.374 36.6869L126.289 36.7724L126.203 36.8565L126.116 36.9394L126.027 37.021L125.937 37.1014L125.846 37.1806L125.753 37.2585L125.659 37.3353L125.564 37.4108L125.467 37.4852L125.369 37.5583L125.27 37.6303L125.169 37.7012L125.066 37.7708L124.962 37.8393L124.857 37.9066L124.75 37.9729L124.642 38.0379L124.532 38.1018L124.42 38.1646L124.307 38.2263L124.192 38.2869L124.076 38.3464L123.958 38.4047L123.838 38.4619L123.717 38.5181L123.594 38.5731L123.469 38.6271L123.342 38.68L123.213 38.7318L123.083 38.7825L122.95 38.8322L122.816 38.8808L122.679 38.9283L122.541 38.9747L122.4 39.0201L122.257 39.0645L122.112 39.1077L121.965 39.15L121.815 39.1912L121.663 39.2313L121.509 39.2704L121.351 39.3084L121.192 39.3455L121.029 39.3814L120.864 39.4164L120.695 39.4503L120.524 39.4832L120.349 39.515L120.171 39.5459L119.99 39.5757L119.805 39.6044L119.616 39.6322L119.424 39.6589L119.227 39.6847L119.025 39.7094L118.819 39.7331L118.609 39.7557L118.393 39.7774L118.171 39.7981L117.943 39.8177L117.709 39.8363L117.468 39.854L117.22 39.8706L116.963 39.8862L116.697 39.9008L116.421 39.9144L116.135 39.927L115.835 39.9386L115.522 39.9492L115.193 39.9588L114.844 39.9674L114.473 39.9749L114.074 39.9815L113.641 39.9871L113.163 39.9917L112.62 39.9953L111.98 39.9978L111.155 39.9994L99.5495 40L97.0079 39.9996L96.135 39.9982L95.4736 39.9957L94.9189 39.9923L94.4317 39.9879L93.9921 39.9825L93.5885 39.9761L93.2134 39.9686L92.8616 39.9602L92.5292 39.9508L92.2134 39.9403L91.9121 39.9289L91.6235 39.9165L91.3461 39.903L91.0789 39.8886L90.8207 39.8731L90.571 39.8567L90.3288 39.8392L90.0936 39.8207L89.865 39.8013L89.6424 39.7808L89.4254 39.7593L89.2138 39.7367L89.0071 39.7132L88.8051 39.6887L88.6075 39.6631L88.4142 39.6365L88.2248 39.6089L88.0392 39.5803L87.8573 39.5507L87.6789 39.52L87.5037 39.4883L87.3318 39.4556L87.163 39.4218L86.9971 39.3871L86.8341 39.3513L86.6738 39.3144L86.5163 39.2765L86.3612 39.2376L86.2087 39.1976L86.0587 39.1566L85.911 39.1145L85.7656 39.0714L85.6224 39.0273L85.4814 38.982L85.3425 38.9357L85.2057 38.8884L85.071 38.84L84.9382 38.7905L84.8073 38.74L84.6784 38.6883L84.5513 38.6356L84.4261 38.5818L84.3026 38.5269L84.1809 38.471L84.0609 38.4139L83.9426 38.3557L83.826 38.2964L83.711 38.236L83.5977 38.1745L83.4859 38.1119L83.3757 38.0482L83.2671 37.9833L83.16 37.9173L83.0544 37.8501L82.9502 37.7818L82.8476 37.7123L82.7464 37.6417L82.6466 37.5699L82.5482 37.4969L82.4513 37.4228L82.3557 37.3474L82.2615 37.2708L82.1687 37.1931L82.0772 37.1141L81.9871 37.0339L81.8982 36.9525L81.8107 36.8698L81.7245 36.7858L81.6395 36.7006L81.5559 36.6142L81.4735 36.5264L81.3923 36.4373L81.3124 36.3469L81.2338 36.2552L81.1564 36.1622L81.0802 36.0678L81.0052 35.972L80.9314 35.8749L80.8588 35.7764L80.7874 35.6764L80.7172 35.575L80.6482 35.4722L80.5803 35.3679L80.5136 35.2621L80.4481 35.1548L80.3837 35.046L80.3205 34.9356L80.2584 34.8237L80.1975 34.7102L80.1376 34.595L80.079 34.4782L80.0214 34.3597L79.965 34.2395L79.9096 34.1175L79.8554 33.9938L79.8023 33.8683L79.7503 33.7409L79.6994 33.6116L79.6496 33.4804L79.6008 33.3473L79.5532 33.2121L79.5066 33.0749L79.4612 32.9355L79.4168 32.794L79.3735 32.6502L79.3312 32.5042L79.2901 32.3557L79.25 32.2049L79.2109 32.0516L79.173 31.8956L79.136 31.737L79.1002 31.5756L79.0654 31.4114L79.0317 31.2442L78.999 31.0738L78.9673 30.9003L78.9367 30.7234L78.9072 30.543L78.8787 30.3589L78.8512 30.1709L78.8248 29.9789L78.7994 29.7826L78.7751 29.5818L78.7518 29.3762L78.7296 29.1655L78.7083 28.9494L78.6881 28.7275L78.669 28.4993L78.6509 28.2644L78.6338 28.0222L78.6177 27.7721L78.6027 27.5132L78.5887 27.2447L78.5757 26.9654L78.5638 26.6742L78.5528 26.3692L78.5429 26.0486L78.5341 25.7097L78.5262 25.3491L78.5194 24.962L78.5136 24.5418L78.5088 24.0783L78.5051 23.5546L78.5024 22.9388L78.5007 22.1533L78.5 20.7981L78.5004 18.1662L78.5017 17.2866L78.5041 16.6293L78.5075 16.0809L78.512 15.6005L78.5174 15.1678L78.5239 14.7711L78.5315 14.4026L78.54 14.0572L78.5496 13.7311L78.5602 13.4214L78.5718 13.1259L78.5844 12.843L78.5981 12.5712L78.6128 12.3094L78.6285 12.0565L78.6453 11.8119L78.6631 11.5747L78.6819 11.3445L78.7018 11.1206L78.7227 10.9027L78.7446 10.6903L78.7676 10.4831L78.7916 10.2808L78.8166 10.0831L78.8427 9.88977L78.8698 9.70054L78.898 9.51523L78.9272 9.33366L78.9575 9.15566L78.9888 8.98106L79.0211 8.80973L79.0545 8.64153L79.089 8.47635L79.1245 8.31407L79.1611 8.15459L79.1987 7.99781L79.2374 7.84365L79.2772 7.69202L79.318 7.54284L79.3599 7.39604L79.4029 7.25155L79.4469 7.10932L79.4921 6.96928L79.5383 6.83136L79.5855 6.69553L79.6339 6.56174L79.6834 6.42992L79.7339 6.30005L79.7856 6.17207L79.8384 6.04596L79.8922 5.92166L79.9472 5.79915L80.0033 5.67839L80.0605 5.55936L80.1188 5.44201L80.1783 5.32632L80.2389 5.21226L80.3006 5.09982L80.3635 4.98895L80.4275 4.87964L80.4926 4.77187L80.5589 4.66561L80.6264 4.56084L80.6951 4.45755L80.7649 4.35571L80.8359 4.2553L80.9081 4.15632L80.9815 4.05873L81.0561 3.96253L81.132 3.86771L81.209 3.77424L81.2872 3.68211L81.3667 3.59131L81.4475 3.50182L81.5295 3.41364L81.6127 3.32675L81.6973 3.24114L81.7831 3.1568L81.8702 3.07372L81.9586 2.99188L82.0484 2.91128L82.1394 2.83192L82.2318 2.75377L82.3256 2.67683L82.4207 2.60109L82.5172 2.52655L82.6151 2.4532L82.7144 2.38103L82.8152 2.31002L82.9174 2.24018L83.021 2.1715L83.1262 2.10398L83.2328 2.03759L83.341 1.97235L83.4507 1.90824L83.5619 1.84526L83.6748 1.7834L83.7892 1.72265L83.9053 1.66302L84.0231 1.6045L84.1425 1.54708L84.2636 1.49075L84.3866 1.43552L84.5112 1.38138L84.6377 1.32833L84.7661 1.27635L84.8963 1.22546L85.0285 1.17563L85.1626 1.12688L85.2987 1.0792L85.4369 1.03258L85.5772 0.987013L85.7197 0.942509L85.8644 0.899059L86.0114 0.856661L86.1607 0.815311L86.3124 0.775008L86.4666 0.735748L86.6234 0.697529L86.7828 0.660349L86.9449 0.624205L87.1098 0.589096L87.2777 0.555019L87.4486 0.521972L87.6227 0.489953L87.8001 0.458961L87.9809 0.428993L88.1653 0.400048L88.3534 0.372125L88.5455 0.345221L88.7417 0.319335L88.9422 0.294467L89.1474 0.270613L89.3575 0.247774L89.5727 0.225947L89.7934 0.205132L90.0201 0.185328L90.2531 0.166533L90.493 0.148747L90.7403 0.131969L90.9957 0.116197L91.2599 0.101431L91.534 0.0876701L91.8189 0.0749138L92.116 0.0631613L92.4269 0.052412L92.7537 0.0426653L93.099 0.0339208L93.4662 0.026178L93.8601 0.0194366L94.2872 0.0136961L94.7576 0.00895627L95.2878 0.00521693L95.9088 0.00247785L96.6932 0.000738904L97.9712 0L110.814 0.000261103L111.745 0.00152223L112.43 0.00378343L112.998 0.00704483L113.494 0.0113066L113.941 0.0165689L114.349 0.0228321L114.729 0.0300964L115.084 0.0383623L115.419 0.04763L115.737 0.0579002L116.041 0.0691733L116.331 0.0814499L116.61 0.0947307L116.879 0.109016L117.139 0.124307L117.39 0.140605L117.633 0.157909L117.869 0.176222L118.099 0.195544L118.323 0.215876L118.54 0.237219L118.753 0.259574L118.96 0.282943L119.163 0.307326L119.361 0.332726L119.555 0.359143L119.745 0.386579L119.931 0.415036L120.114 0.444515L120.293 0.475017L120.469 0.506545L120.641 0.539101L120.81 0.572685L120.977 0.607301L121.14 0.64295L121.301 0.679635L121.459 0.717357L121.614 0.756119L121.767 0.795924L121.918 0.836773L122.066 0.87867L122.211 0.921618L122.355 0.965618L122.496 1.01067L122.635 1.05679L122.773 1.10397L122.908 1.15221L123.041 1.20152L123.172 1.2519L123.301 1.30336L123.429 1.3559L123.554 1.40952L123.678 1.46423L123.8 1.52003L123.92 1.57693L124.039 1.63492L124.156 1.69402L124.271 1.75423L124.384 1.81556L124.496 1.87801L124.607 1.94158L124.716 2.00628L124.823 2.07212L124.929 2.1391L125.033 2.20723L125.136 2.27651L125.238 2.34695L125.338 2.41857L125.436 2.49136L125.533 2.56533L125.629 2.64049L125.724 2.71686L125.817 2.79442L125.908 2.87321L125.999 2.95322L126.088 3.03446L126.175 3.11695L126.262 3.20068L126.347 3.28569L126.431 3.37196L126.513 3.45953L126.595 3.54839L126.675 3.63856L126.754 3.73005L126.831 3.82288L126.908 3.91706L126.983 4.0126L127.057 4.10952L127.13 4.20783L127.201 4.30756L127.272 4.40871L127.341 4.5113L127.409 4.61537L127.476 4.72091L127.542 4.82796L127.606 4.93653L127.67 5.04665L127.732 5.15834L127.793 5.27162L127.853 5.38653L127.912 5.50308L127.969 5.6213L128.026 5.74124L128.082 5.86291L128.136 5.98634L128.189 6.11159L128.242 6.23867L128.293 6.36763L128.343 6.49851L128.391 6.63136L128.439 6.76621L128.486 6.90312L128.532 7.04214L128.576 7.18332L128.62 7.32672L128.662 7.4724L128.703 7.62044L128.744 7.77089L128.783 7.92383L128.821 8.07935L128.858 8.23752L128.894 8.39846L128.929 8.56224L128.963 8.72898L128.996 8.8988L129.028 9.07182L129.058 9.24818L129.088 9.42803L129.117 9.61152L129.144 9.79885L129.171 9.9902L129.197 10.1858L129.221 10.3859L129.245 10.5907L129.267 10.8005L129.288 11.0158L129.309 11.2367L129.328 11.4639L129.346 11.6977L129.364 11.9387L129.38 12.1875L129.395 12.4449L129.409 12.7119L129.422 12.9893L129.434 13.2786L129.445 13.5812L129.456 13.8991L129.465 14.2349L129.473 14.5918L129.48 14.9743L129.486 15.3887L129.49 15.8444L129.494 16.357L129.497 16.9548L129.499 17.7035L129.5 18.8712V20ZM99.5 31H107.5C115.079 31 119.5 26.2857 119.5 19.9371C119.5 13.5257 115.139 9 107.62 9H99.5V31ZM95.5 31H89.5V9H95.5V31ZM22.4545 20C22.4545 26.0677 18.0574 31.5 11.4461 31.5C4.83478 31.5 0.5 26.1312 0.5 20C0.5 13.9323 4.89715 8.5 11.5085 8.5C18.1198 8.5 22.4545 13.8688 22.4545 20ZM2.18401 20C2.18401 25.4959 6.11338 30.0069 11.5085 30.0069C16.9035 30.0069 20.7705 25.5594 20.7705 20C20.7705 14.5041 16.8412 9.99309 11.4461 9.99309C6.05101 9.99309 2.18401 14.4406 2.18401 20ZM30.0467 31H28.5V9H30.0158L44.9574 28.14V9H46.5041V31H45.2976L30.0467 11.4514V31ZM68.5 31H52.9398V9H68.3453V10.5086H54.5484V19.1514H66.9533V20.66H54.5484V29.4914H68.5V31ZM108.698 27.1445C109.288 27.1275 109.96 27.0505 110.644 26.8774C110.726 26.857 110.809 26.8351 110.895 26.8114C111.423 26.6649 111.995 26.4494 112.583 26.0885C112.727 26.0027 112.867 25.9106 113.005 25.8118L113 25.8097C113.419 25.5051 113.843 25.1197 114.264 24.6271C114.436 24.4249 114.733 23.9978 114.901 23.6664C114.512 23.2539 113.92 22.9147 113.365 22.6164L113.306 22.5845C113.049 22.4458 112.583 22.1949 112.149 22.025C112.103 22.007 112.054 21.9892 112.005 21.971C111.63 21.8327 111.191 21.671 111.147 21.2253C111.113 20.8814 111.287 20.6666 111.495 20.4106C111.545 20.3491 111.597 20.2853 111.648 20.2166C112.254 19.4074 112.824 18.3035 112.721 16.809C112.62 15.342 111.681 14.2028 110.11 14.027C109.928 14.0067 109.751 13.9979 109.579 14.0004C109.407 13.9979 109.229 14.0067 109.047 14.027C107.476 14.2028 106.537 15.342 106.436 16.809C106.333 18.3035 106.903 19.4074 107.509 20.2166C107.561 20.2853 107.612 20.3491 107.662 20.4106C107.87 20.6666 108.044 20.8814 108.01 21.2253C107.966 21.671 107.527 21.8327 107.152 21.971C107.103 21.9892 107.055 22.007 107.009 22.025C106.574 22.1949 106.109 22.4458 105.851 22.5845L105.792 22.6164C104.968 23.0591 104.064 23.5917 103.861 24.3202C103.612 25.2114 103.478 26.3301 103.503 27.1445H104.91C105.302 27.1445 105.705 27.1485 106.116 27.1526C106.96 27.1609 107.835 27.1694 108.698 27.1445Z"
                  fill="white"
                /></svg
              >Avtorizatsiyadan o‘tish
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  layout: "empty",
  middleware: "login",
  data() {
    return {
      link: "",
    };
  },
  async mounted() {
    this.__GET_LINK();
    if (this.$route.query["code"]) {
      try {
        await this.$store.commit("getCode", this.$route.query["code"]);
        this.$router.replace({ path: "/admin/login", query: {} });
        this.__AUTH_ONEID({ code: this.$store.state.code });
      } catch (e) {
      } finally {
      }
    }
  },
  methods: {
    async __GET_LINK() {
      try {
        const res = await this.$store.dispatch("fetchAuth/getOneIDLink");
        this.link = res?.data;
      } catch (e) {}
    },
    async __AUTH_ONEID(data) {
      try {
        const res = await this.$store.dispatch("fetchAuth/authByOneID", data);
        localStorage.setItem("auth_token", res.data?.token);
        this.$store.commit("logIn");
        this.$router.push("/");
      } catch (e) {
        this.$notification["error"]({
          message: "Error",
          description: e.response.statusText,
        });
      }
    },
  },
};
</script>
<style lang="css" scoped>
.login {
  background-image: url(../../assets/images/login-banner.png);
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}
.form-block {
  background: rgba(0, 0, 0, 0.6);

  backdrop-filter: blur(10px);
}
.form-item :deep(label) {
  font-family: var(--v-regular);
  color: #fff;
  font-size: 16px;
  font-style: normal;
  line-height: 150%; /* 24px */
}
.form-item :deep(label::before) {
  display: none;
}
.form-item :deep(.ant-form-item-label) {
  line-height: 0;
  margin-bottom: 12px;
}
.form-item :deep(.ant-input) {
  padding: 18px 24px;
  color: rgba(0, 0, 0, 0.7);
  font-size: 16px;
  font-style: normal;
  font-weight: 400;
  line-height: 150%;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.5);
  height: 60px;
  border: none;
}
:deep(.ant-form-item) {
  margin-bottom: 0;
}
:deep(.ant-checkbox-inner) {
  border-radius: 6px;
  border: 2px solid #fff;
  background-color: transparent;
  width: 24px;
  height: 24px;
}
:deep(.ant-checkbox-wrapper:hover .ant-checkbox-inner, .ant-checkbox:hover
    .ant-checkbox-inner, .ant-checkbox-input:focus + .ant-checkbox-inner) {
  border-color: #fff;
}
</style>
